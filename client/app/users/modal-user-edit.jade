.bg-lightest
	.modal-header
		h1.h--small.h--no-margin Update User <strong>{{ originalName }}<strong>
	.modal-body
		form.form-horizontal(role="form")

			.form-group(ng-class="{ error: errors.name }")
				label.col-sm-3.control-label Display Name
				.col-sm-7
					input.form-control(ng-model="user.name", ng-required)

			.form-group(ng-class="{ error: errors.is_active }")
				label.col-sm-3.control-label(for="userActive") Active
				.col-sm-8
					input#userActive.checkbox--toggle(type="checkbox", ng-model="user.is_active")
					label(for="userActive")

			.form-group(ng-class="{ error: errors.username }")
				label.col-sm-3.control-label Username
				.col-sm-7
					input.form-control(ng-model="user.username", ng-required)

			.form-group(ng-class="{ error: errors.email }")
				label.col-sm-3.control-label Email
				.col-sm-7
					input.form-control(ng-model="user.email", ng-required)

			.form-group(ng-class="{ error: errors.roles }")
				label.col-sm-3.control-label Roles
				.col-sm-8
					ul.list--checkboxes
						li(ng-repeat="role in roles", ng-hide="!auth.hasRole('root') && (role.name == 'root' || role.name == 'admin')")
							input.checkbox--check(id="checked-{{ role.name }}", type="checkbox", name="selectedRoles[]", value="{{ role.name }}", ng-checked="user.roles.indexOf(role.name) > -1", ng-click="toggleSelection(role.name)")
							label(for="checked-{{ role.name }}")
								h4.h--no-margin.h--lighter {{ role.name }}
								div {{ role.description }}

			div.alert.alert-danger(ng-show="errors.name")
				i.fa.fa-exclamation-triangle.space-right
				| {{ errors.name }}

			div.alert.alert-danger(ng-show="errors.username")
				i.fa.fa-exclamation-triangle.space-right
				| {{ errors.username }}

			div.alert.alert-danger(ng-show="errors.email")
				i.fa.fa-exclamation-triangle.space-right
				| {{ errors.email }}

			div.alert.alert-danger(ng-show="errors.roles")
				i.fa.fa-exclamation-triangle.space-right
				| {{ errors.roles }}

			div.alert.alert-danger(ng-show="error")
				i.fa.fa-exclamation-triangle.space-right
				| {{ error }}

	.modal-footer
		button.btn.btn-default.pull-left(ng-click="reset()") Reset
		button.btn.btn-default(ng-click="$close()") Cancel
		button.btn.btn-primary(ng-click="save()") Update
